{
  "tests": [
    {
      "name": "OPTIONS preflight",
      "method": "OPTIONS",
      "path": "/",
      "expectedStatus": 200
    },
    {
      "name": "POST add by ozon code only",
      "method": "POST",
      "path": "/",
      "body": {
        "ozon_order_code": "TEST-0001"
      },
      "expectedStatus": 200
    },
    {
      "name": "POST add with full data",
      "method": "POST",
      "path": "/",
      "body": {
        "name": "Test Manager",
        "phone": "+7 (900) 000-00-01",
        "channel": "Avito"
      },
      "expectedStatus": 200
    },
    {
      "name": "POST empty body fails",
      "method": "POST",
      "path": "/",
      "body": {},
      "expectedStatus": 400
    },
    {
      "name": "DELETE without id fails",
      "method": "DELETE",
      "path": "/",
      "expectedStatus": 400
    },
    {
      "name": "DELETE non-existent client",
      "method": "DELETE",
      "path": "/?id=999999",
      "expectedStatus": 404
    },
    {
      "name": "POST create order by number",
      "method": "POST",
      "path": "/",
      "body": {
        "action": "create_order",
        "order_number": "99887766-0001",
        "channel": "Ozon"
      },
      "expectedStatus": 200,
      "expectedBody": {
        "client_id": "number",
        "is_new": "boolean"
      },
      "bodyMatcher": "partial"
    },
    {
      "name": "POST create order short number fails",
      "method": "POST",
      "path": "/",
      "body": {
        "action": "create_order",
        "order_number": "ab"
      },
      "expectedStatus": 400
    }
  ]
}
